<div class="container-fluid  mt-4 mr-3 ml-3">
    <div class="header-contact  mt-4  py-1 ">
       
            <div class="  d-flex   align-items-center px-4  py-2  justify-content-between  ">
                <div class="   align-items-center "> <p class="lebel-client ">user</p> </div>
                <div class=" btn-groupe row  ">
                    <div class="">
                        <!--  <button class="btn btn-circle  py-2 mr-2" (click)="openModalimport(importuser)"><i class="fa-solid fa-file-import"></i> Import</button>
                          
              <div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="composeEmailModalLabel" aria-hidden="true">
                <div class="modal-dialog  modal-dialog-centered " role="document">
                    <div class="modal-content  modal-back  " style="width: 300% !important;">
                     
                            <ng-template #importuser>
                                <div class="modalbody-import">
                                <div class="modal-header mb-1 ">
                                    <h5 class="modal-title  " id="composeEmailModalLabel"></h5>
                                    <button type="button" class="close" (click)="closeModal()">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                  
                                </div>
                            
                                <div class="modal-body px-0 py-0">
                                    <form id="contactForm" (ngSubmit)="submitImportuserForm()" enctype="multipart/form-data">
                                        <div class="d-flex justify-content-center align-items-center">
                                            <div class="file-upload-container">
                                                <label for="file" class="file-input-label">
                                                    <img src="./assets/csv.png" id="photo" width="50" height="50" alt="Placeholder image">
                                                    <span *ngIf="selectedFileName" class="Name-Button-Import">{{ selectedFileName }}</span>
                                                </label>
                                                <input class="form-control file-input" id="file" name="file" type="file" (change)="onFileuserChange($event)" required>
                                            </div>
                                        </div>
                                
                                        <div class="modal-footer d-flex justify-content-center">
                                            <button type="reset" class="btn btn-circle py-2 mr-2" (click)="closeModal()">Annuler</button>
                                            <button type="submit" class="btn btn-circle py-2 btn-color">import user</button>
                                        </div>
                                    </form>
                                </div>
                                
                            </div>
                            </ng-template>
                        

                        
                    </div>
                </div>
            </div> -->
                     
                        <button class="btn  btn-circle  py-2  btn-color" (click)="openModal(adduser)">
                            <i class="fa-solid fa-user-plus"></i> Ajouter user
                        </button>
                         <!-- Modal -->
              <div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="composeEmailModalLabel" aria-hidden="true">
                <div class="modal-dialog " role="document">
                    <div class="modal-content  modal-back  ">
                        <ng-template #adduser>
                        <div class="modal-header mb-1 ">
                            <h5 class="modal-title  " id="composeEmailModalLabel">Ajouter user</h5>
                            <button type="button" class="close" (click)="closeModal()">
                                <span aria-hidden="true">&times;</span>
                            </button>
                          
                        </div>
                        <hr class="line-modal">
                        <div class="modal-body px-0 py-0">
                            
                            <form id="contactForm" (ngSubmit)="submitUserForm()" enctype="multipart/form-data">
                            
  
                                <div class="row ">
                                    <div class="col-lg-4  ">
                                        <div class="profile-pic border  " >
                                        <label class="-label" for="image">
                                        <span class="glyphicon glyphicon-camera "></span>
                                        <span><i class="fa-solid fa-camera "></i></span> 
                                        </label>
                                         <input  id="image" name="image" type="file" accept="image/*" (change)="onFileChange($event)" required />
                                         <img *ngIf="image==''" src="https://www.shutterstock.com/image-vector/user-profile-icon-vector-avatar-600nw-2247726673.jpg" id="image" width="10" height="10" class="rounded-circle" alt="Placeholder image">
                                         <img *ngIf="image" [src]="image" width="30" height="30" class="rounded-circle">
                                    </div>  
                                
                
                                    
                              </div>
                            
                              <div class=" col-lg-4 ">
                              
                                  <label for="email">Email</label>
                                  <input [(ngModel)]="formData.email" type="email" id="email" name="email" class="form-control rounded input" placeholder="Email de l'utilisateur" required />
                                
                                    
                            
                                   
                                 
                              </div>
                              <div class="col-lg-4">
                                <label for="password">Mot de passe</label>
                                <input [(ngModel)]="formData.password" type="password" id="password" name="password" class="form-control rounded input" placeholder="Mot de passe" required />
                      
                        
                              </div>
                              </div>

                              <div class="row ">
                                <div class=" col-lg-4 ">
                                  
                                <label for="username">Pseudo</label>
                                <input [(ngModel)]="formData.username" type="text" id="username" name="username" class="form-control rounded input" placeholder="Pseudo / User-name" required />
                        
                                
                                
                                </div>
                        
                          <div class=" col-lg-4 ">
                                <label for="tel">Numéro de Téléphone</label>
                                <input [(ngModel)]="formData.tel" type="tel" id="tel" name="tel" class="form-control rounded input" placeholder="Numéro de téléphone" required />
                          </div>
                          <div class="col-lg-4">
                           
                            <label for="repassword">Comfirmer le mot de passe</label>
                            <input [(ngModel)]="formData.repassword" type="password" id="repassword" name="repassword" class="form-control rounded input" placeholder="confirmez le mot de passe" required />
                            
                      
                          </div>
                    </div>   
                    <div class="row ">
                        
                       
                        <div class=" col-lg-4 ">
                      
                        <label for="lastname">Nom :</label>
                        <input [(ngModel)]="formData.lastname" type="text" id="lastname" name="lastname" class="form-control rounded input" placeholder="Non de l'utilisateur" required />
            
                  </div>
                
                  <div class=" col-lg-4 ">
                        <label for="firstname">Prénom :</label>
                        <input [(ngModel)]="formData.firstname" type="text" id="firstname" name="firstname" class="form-control rounded input" placeholder="Prénom de l'utilisateur" required />
                      
                     
                  </div>
                  <div class="col-lg-4">
                   
                    <label for="roles">Role :</label>
                    <select [(ngModel)]="formData.roles" id="roles" name="roles" class="form-control rounded input" required>
                      <option value="1">ADMIN</option>
                      <option value="2">USER</option>
                      <option value="3">Contact</option>
                      <option value="4">Commercial</option>
                    </select>
                 
                  </div>
                  </div>
                  <br>
                              
                                <div class="modal-footer d-flex justify-content-center pt-3">
                                  <button type="reset" class="btn px-2 btn-sm btn-colorbtn" (click)="closeModal()">Annuler</button>
                                  <button type="submit" class="btn  px-2 btn-sm btn-colorbtn btn-addcolor" >Ajouter User</button>
                                </div>
                              </form>
                              
                              
                        </div>
                    </ng-template>
                    </div>
                </div>
            </div>
                    </div>
                      
             
            
              
                </div>
            </div>
          
            <div class="container-fluid px-0 ">
                <div class="row px-4   mb-3  ">
                  <div class="col w-100 ">
                    <div class="btn-group show">
                        <a class="btn btn-sm btn-circledown  dropdown-toggle custom-dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          &nbsp;Propriétaire de contact <i class="fa-sharp fa-solid fa-chevron-down"></i> &nbsp;
                        </a>
                        <div class="dropdown-menu custom-dropdown-menu align-items-center">
                          <a class="dropdown-item">Défaut</a>
                          <a class="dropdown-item inter-col">Les nouveaux d'abord</a>
                          <a class="dropdown-item">Les anciens d'abord</a>
                        </div>
                      </div>
                  </div>
                  <div class="col   w-100 ">
                    <div class="btn-group ">
                        <a class="btn btn-sm btn-circledown dropdown-toggle custom-dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          &nbsp; Date de création <i class="fa-sharp fa-solid fa-chevron-down"></i> &nbsp;
                        </a>
                        <div class="dropdown-menu custom-dropdown-menu align-items-center">
                          <a class="dropdown-item" href="#">Défaut </a>
                          <a class="dropdown-item inter-col" href="#">Les nouveaux d'abord</a>
                          <a class="dropdown-item" href="#">Les anciens d'abord</a>
                        </div>
                      </div>
                  </div>
                  <div class="col   w-100 ">
                    <div class="btn-group ">
                        <a class="btn btn-sm btn-circledown dropdown-toggle custom-dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          &nbsp;Date la dernière activité <i class="fa-sharp fa-solid fa-chevron-down"></i> &nbsp;
                        </a>
                        <div class="dropdown-menu custom-dropdown-menu align-items-center">
                          <a class="dropdown-item"  href="#">Défaut </a>
                          <a class="dropdown-item inter-col" href="#">Les nouveaux d'abord</a>
                          <a class="dropdown-item" href="#">Les anciens d'abord</a>
                        </div>
                      </div>
                  </div>

                  <div class="col  w-100">
                    <div class="btn-group ">
                        <a class="btn btn-sm btn-circledown dropdown-toggle custom-dropdown-toggle" (onload)="onStatususer('')" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          &nbsp; Statut de user <i class="fa-sharp fa-solid fa-chevron-down"></i> &nbsp;
                      </a>
                      <div class="dropdown-menu custom-dropdown-menu align-items-center">
                          <a class="dropdown-item" (click)="onStatususer('user')">user</a>
                          <a class="dropdown-item inter-col" (click)="onStatususer('Non user')">Non user</a>
                      </div>  
                      </div>
                  </div>
                  <div class="col   px-0  w-100 ">
                    <div class="btn-group ">
                        <div class=" has-search  w-100">
                          <span class="fa fa-search form-control-feedback "></span>
                          <input type="text" class=" form-control search_input btn-circledown dropdown-toggle custom-dropdown-toggle" id="search" name="search" (input)="onSearch($event)" placeholder="recherche de user">
                        </div>
                      </div>
                  </div>
                </div>
              </div>
        <!--   <div class="  px-4   mb-3">
              
                  <div class="dropdown-container row flex-wrap  align-items-center  justify-content-between ">
              
                    <div class="btn-group show">
                      <a class="btn btn-sm btn-circledown  dropdown-toggle custom-dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        &nbsp;Propriétaire de contact <i class="fa-sharp fa-solid fa-chevron-down"></i> &nbsp;
                      </a>
                      <div class="dropdown-menu custom-dropdown-menu align-items-center">
                        <a class="dropdown-item">Défaut</a>
                        <a class="dropdown-item inter-col">Les nouveaux d'abord</a>
                        <a class="dropdown-item">Les anciens d'abord</a>
                      </div>
                    </div>
              
                    <div class="btn-group ">
                      <a class="btn btn-sm btn-circledown dropdown-toggle custom-dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        &nbsp; Date de création <i class="fa-sharp fa-solid fa-chevron-down"></i> &nbsp;
                      </a>
                      <div class="dropdown-menu custom-dropdown-menu align-items-center">
                        <a class="dropdown-item" href="#">Défaut </a>
                        <a class="dropdown-item inter-col" href="#">Les nouveaux d'abord</a>
                        <a class="dropdown-item" href="#">Les anciens d'abord</a>
                      </div>
                    </div>
              
                    <div class="btn-group ">
                      <a class="btn btn-sm btn-circledown dropdown-toggle custom-dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        &nbsp;Date la dernière activité <i class="fa-sharp fa-solid fa-chevron-down"></i> &nbsp;
                      </a>
                      <div class="dropdown-menu custom-dropdown-menu align-items-center">
                        <a class="dropdown-item"  href="#">Défaut </a>
                        <a class="dropdown-item inter-col" href="#">Les nouveaux d'abord</a>
                        <a class="dropdown-item" href="#">Les anciens d'abord</a>
                      </div>
                    </div>
              
                    <div class="btn-group ">
                      <a class="btn btn-sm btn-circledown dropdown-toggle custom-dropdown-toggle" (onload)="onStatususer('')" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        &nbsp; Statut de user <i class="fa-sharp fa-solid fa-chevron-down"></i> &nbsp;
                    </a>
                    <div class="dropdown-menu custom-dropdown-menu align-items-center">
                        <a class="dropdown-item" (click)="onStatususer('user')">user</a>
                        <a class="dropdown-item inter-col" (click)="onStatususer('Non user')">Non user</a>
                    </div>  
                    </div>
                    <div class="btn-group">
                        <div class=" has-search ">
                          <span class="fa fa-search form-control-feedback "></span>
                          <input type="text" class="form-control search_input btn-circledown dropdown-toggle custom-dropdown-toggle" id="search" name="search" (input)="onSearch($event)" placeholder="recherche de user">
                        </div>
                      </div>
                  </div>
              </div>-->
              
            </div>
<br>
<div class="row">
    <ng-container *ngFor="let user of users">     
      <!--  <ng-container *ngFor="let contact of contacts">     -->  
        <div class="col-3 col-6 col-lg-4 col-xl-3  px-1 mb-2 contactdetails"  [routerLink]="['/user/details', user.id]">
       
            <div class="card px-0 py-2">
                <div class="card-body  py-2 " >
                    <div class="d-flex align-items-center  ">
                        <div class=" text-center align-items-center  " style="width: 40%;">
                         
                            <img   *ngIf="user.image !== null"  [src]="'data:image/*;base64,' +user.image"
                       
                            alt="User Image" class="card-img-top img-fluid rounded-circle"
                            style="object-fit: initial; object-position: center center; width: 65%; height: 65%;">
                       
                      <img *ngIf="user.image == null"
                            src="https://images.rawpixel.com/image_png_800/cHJpdmF0ZS9sci9pbWFnZXMvd2Vic2l0ZS8yMDIzLTAxL3JtNjA5LXNvbGlkaWNvbi13LTAwMi1wLnBuZw.png"
                            alt="User Image" class="card-img-top img-fluid rounded-circle"
                            style="object-fit: initial; object-position: center center; width: 65%; height: 65%;">
                       
                        </div>
                        <div class="align-items-center px-1  " style="width: 60%;">
                            <div class="d-flex justify-content-between">
                                <h4 class="card-title mb-2 "  >{{ user.firstname }} 
                                    <br> {{ user.lastname }}</h4>
                               <!--   
                            <button (click)="deleteuser(user.id)" class="  px-2  btn-trash" >
                                    <i class="fa-solid fa-trash"></i>
                                </button>
                               --> 
                               <a class=" px-2 py-0 btn-delete" (click)="openDelModal(deleteuser)">
                                <img src="./assets/octicon_trashcan-16.png" class="img-fluid" alt="">
                                <!--<i class="fa-solid fa-trash"></i>-->
                            </a>
                            
                          
                            <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="composeEmailModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered px-4" role="document">
                                    <div class="modal-content modal-back ">
                                        <ng-template #deleteuser>
                                        <div class="modal-header ">
                                            <h5 class="modal-title" id="composeEmailModalLabel">Supprimer user </h5>
                                            <button type="button" class="close" (click)="closeModal()">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <hr>
                                        <div class="modal-body py-0">
                                            <form id="contactForm" (ngSubmit)="deleteUser(user.id)" enctype="multipart/form-data">

                                            <div class="row d-flex">
                                                <label for="delete">Voulez Vous Supprimer {{ user.nom }}</label>
                                            </div>
                                            <div class="modal-footer d-flex justify-content-center">
                                                <button type="button" class="btn btn-colorbtn"  (click)="closeModal()">Annuler</button>
                                                <button type="submit" class="btn btn-colorbtn btn-addcolor" >Supprimer user</button>
                                            </div>

                                            </form>
                                        </div>
                                    </ng-template>
                                    </div>
                                </div>
                            </div>
                            
                     </div>
                           
                            <a href="#" class="client-circledown px-2   py-1 " > {{ user.role.name }} </a>
                            <p class="card-text mt-2 " style="font-size: 11px;">Description/informations complémentaires</p>
                        </div>
                    </div>
                </div>
                
                <hr class="line">
                <div class="d-flex justify-content-between px-4  mt-2">
                    <p class="mb-0 footer-card">Dernier Compte</p>
                    <p class="mb-0 footer-card" >{{ user.dateCreated | date:'yyyy-MM-dd' }}</p>
                </div>
            </div>
        </div>
        
    </ng-container>
</div>

    
<div class=" mt-2 px-0 d-flex justify-content-between    ">
     <!-- Reset Filters button -->
  <div class=" ">
    <button class="btn p  btn-primary  reset-button py-2" (click)="resetFilters()" >Réinitialiser tous les filtres</button>
</div>
    <!-- Additional content or controls -->
    <div class="px-0">
        <ul class="pagination  ">
            <li class="page-item" *ngIf="currentPage > 0">
                <a class="page-link  page-btn" (click)="onPreviousNextPage(currentPage-1)">
                    <span aria-hidden="true">&laquo; Précédent</span>
                </a>
            </li>
      
            <ng-container *ngIf="totalPages !== undefined; else noPages">
                <li class="page-item" *ngFor="let page of pagesArray()">
                    <a class="page-link   page-btn  " (click)="onPageChange(page-1)" [class.active]=" currentPage === page-1">{{ page }}</a>
                </li>
            </ng-container>
            
            <ng-template #noPages>
                <li class="page-item">
                    <span class="page-link page-btn  " style="cursor: not-allowed;">...</span>
                </li>
            </ng-template>
      
            <li class="page-item " *ngIf="currentPage < totalPages - 1">
                <a class="page-link  page-btn" (click)="onPreviousNextPage(currentPage + 1)">
                    <span aria-hidden="true">Suivant &raquo;</span>
                </a>
            </li>
            
        </ul>
    </div>
 
</div>






</div>